// Copyright 2024-2025 Buf Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Generated from cel-go github.com/google/cel-go@v0.26.1/ext/comprehensions_test.go
import type { SerializedIncrementalTestSuite } from "./tests.js";
export const tests: SerializedIncrementalTestSuite = {
  name: "comprehensions",
  tests: [
    {
      original: {
        expr: "[1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)",
      },
      ast: "[\n  1^#*expr.Constant_Int64Value#,\n  2^#*expr.Constant_Int64Value#,\n  3^#*expr.Constant_Int64Value#,\n  4^#*expr.Constant_Int64Value#\n]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    _\u003c_(\n      i^#*expr.Expr_IdentExpr#,\n      5^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _\u003e_(\n      v^#*expr.Expr_IdentExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'all' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .......................^\nERROR: \u003cinput\u003e:1:33: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ................................^",
    },
    {
      original: { expr: "[1, 2, 3, 4].all(i, v, i \u003c v)" },
      ast: "[\n  1^#*expr.Constant_Int64Value#,\n  2^#*expr.Constant_Int64Value#,\n  3^#*expr.Constant_Int64Value#,\n  4^#*expr.Constant_Int64Value#\n]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'all' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c v)\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c v)\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c v)\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c v)\n | .......................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c v)\n | ...........................^",
    },
    {
      original: { expr: "[1, 2, 3, 4].all(i, v, i \u003e v) == false" },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    3^#*expr.Constant_Int64Value#,\n    4^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.all(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u003e_(\n      i^#*expr.Expr_IdentExpr#,\n      v^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  false^#*expr.Constant_BoolValue#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'all' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003e v) == false\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003e v) == false\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003e v) == false\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003e v) == false\n | .......................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003e v) == false\n | ...........................^",
    },
    {
      original: {
        expr: "\n\t\tcel.bind(listA, [1, 2, 3, 4],\n\t\tcel.bind(listB, [1, 2, 3, 4, 5],\n\t\t   listA.all(i, v, listB[?i].hasValue() \u0026\u0026 listB[i] == v)\n\t\t))\n\t\t",
      },
      error:
        "ERROR: :4:27: unsupported syntax '[?'\n |      listA.all(i, v, listB[?i].hasValue() \u0026\u0026 listB[i] == v)\n | ..........................^",
    },
    {
      original: {
        expr: "\n\t\tcel.bind(listA, [1, 2, 3, 4, 5, 6],\n\t\tcel.bind(listB, [1, 2, 3, 4, 5],\n\t\t   listA.all(i, v, listB[?i].hasValue() \u0026\u0026 listB[i] == v)\n\t\t)) == false\n\t\t",
      },
      error:
        "ERROR: :4:27: unsupported syntax '[?'\n |      listA.all(i, v, listB[?i].hasValue() \u0026\u0026 listB[i] == v)\n | ..........................^",
    },
    {
      original: {
        expr: "\n\t\tcel.bind(l, ['hello', 'world', 'hello!', 'worlds'],\n\t\t  l.exists(i, v,\n\t\t    v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next.endsWith('world')).orValue(false)\n\t\t  )\n\t\t)\n\t\t",
      },
      error:
        "ERROR: :4:33: unsupported syntax '[?'\n |       v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next.endsWith('world')).orValue(false)\n | ................................^",
    },
    {
      original: {
        expr: "\n\t\tcel.bind(l, ['hello', 'world', 'hello!', 'worlds'],\n\t\t  l.existsOne(i, v,\n\t\t    v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next.endsWith('world')).orValue(false)\n\t\t  )\n\t\t)\n\t\t",
      },
      error:
        "ERROR: :4:33: unsupported syntax '[?'\n |       v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next.endsWith('world')).orValue(false)\n | ................................^",
    },
    {
      original: {
        expr: "\n\t\tcel.bind(l, ['hello', 'goodbye', 'hello!', 'goodbye'],\n\t\t  l.exists_one(i, v,\n\t\t    v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next == \"goodbye\").orValue(false)\n\t\t  )\n\t\t) == false\n\t\t",
      },
      error:
        "ERROR: :4:33: unsupported syntax '[?'\n |       v.startsWith('hello') \u0026\u0026 l[?(i+1)].optMap(next, next == \"goodbye\").orValue(false)\n | ................................^",
    },
    {
      original: {
        expr: '\n\t\t[\'Hello\', \'world\'].transformList(i, v, "[%d]%s".format([i, v.lowerAscii()])) == ["[0]hello", "[1]world"]\n\t\t',
      },
      ast: '_==_(\n  [\n    "Hello"^#*expr.Constant_StringValue#,\n    "world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    "[%d]%s"^#*expr.Constant_StringValue#.format(\n      [\n        i^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#.lowerAscii()^#*expr.Expr_CallExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    "[0]hello"^#*expr.Constant_StringValue#,\n    "[1]world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:35: undeclared reference to 'transformList' (in container '')\n |   ['Hello', 'world'].transformList(i, v, \"[%d]%s\".format([i, v.lowerAscii()])) == [\"[0]hello\", \"[1]world\"]\n | ..................................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'i' (in container '')\n |   ['Hello', 'world'].transformList(i, v, \"[%d]%s\".format([i, v.lowerAscii()])) == [\"[0]hello\", \"[1]world\"]\n | ...................................^\nERROR: \u003cinput\u003e:2:39: undeclared reference to 'v' (in container '')\n |   ['Hello', 'world'].transformList(i, v, \"[%d]%s\".format([i, v.lowerAscii()])) == [\"[0]hello\", \"[1]world\"]\n | ......................................^\nERROR: \u003cinput\u003e:2:59: undeclared reference to 'i' (in container '')\n |   ['Hello', 'world'].transformList(i, v, \"[%d]%s\".format([i, v.lowerAscii()])) == [\"[0]hello\", \"[1]world\"]\n | ..........................................................^\nERROR: \u003cinput\u003e:2:62: undeclared reference to 'v' (in container '')\n |   ['Hello', 'world'].transformList(i, v, \"[%d]%s\".format([i, v.lowerAscii()])) == [\"[0]hello\", \"[1]world\"]\n | .............................................................^",
    },
    {
      original: {
        expr: "\n\t\t['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n\t\t",
      },
      ast: '_==_(\n  [\n    "hello"^#*expr.Constant_StringValue#,\n    "world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#.startsWith(\n      "greeting"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    "[%d]%s"^#*expr.Constant_StringValue#.format(\n      [\n        i^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  []^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:35: undeclared reference to 'transformList' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | ..................................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'i' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | ...................................^\nERROR: \u003cinput\u003e:2:39: undeclared reference to 'v' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | ......................................^\nERROR: \u003cinput\u003e:2:42: undeclared reference to 'v' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | .........................................^\nERROR: \u003cinput\u003e:2:85: undeclared reference to 'i' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | ....................................................................................^\nERROR: \u003cinput\u003e:2:88: undeclared reference to 'v' (in container '')\n |   ['hello', 'world'].transformList(i, v, v.startsWith('greeting'), \"[%d]%s\".format([i, v])) == []\n | .......................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t[1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n\t\t",
      },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    3^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    indexVar^#*expr.Expr_IdentExpr#,\n    valueVar^#*expr.Expr_IdentExpr#,\n    _+_(\n      _*_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        valueVar^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#,\n      valueVar^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    1^#*expr.Constant_Int64Value#,\n    4^#*expr.Constant_Int64Value#,\n    9^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:2:26: undeclared reference to 'transformList' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | .........................^\nERROR: \u003cinput\u003e:2:27: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | ..........................^\nERROR: \u003cinput\u003e:2:37: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | ....................................^\nERROR: \u003cinput\u003e:2:48: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | ...............................................^\nERROR: \u003cinput\u003e:2:59: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | ..........................................................^\nERROR: \u003cinput\u003e:2:71: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, (indexVar * valueVar) + valueVar) == [1, 4, 9]\n | ......................................................................^",
    },
    {
      original: {
        expr: "\n\t\t[1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n\t\t",
      },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    3^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    indexVar^#*expr.Expr_IdentExpr#,\n    valueVar^#*expr.Expr_IdentExpr#,\n    _==_(\n      _%_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        2^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _+_(\n      _*_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        valueVar^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#,\n      valueVar^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    1^#*expr.Constant_Int64Value#,\n    9^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:2:26: undeclared reference to 'transformList' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | .........................^\nERROR: \u003cinput\u003e:2:27: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | ..........................^\nERROR: \u003cinput\u003e:2:37: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | ....................................^\nERROR: \u003cinput\u003e:2:47: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | ..............................................^\nERROR: \u003cinput\u003e:2:67: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | ..................................................................^\nERROR: \u003cinput\u003e:2:78: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | .............................................................................^\nERROR: \u003cinput\u003e:2:90: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformList(indexVar, valueVar, indexVar % 2 == 0, (indexVar * valueVar) + valueVar) == [1, 9]\n | .........................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t['Hello', 'world'].transformMap(i, v, [v.lowerAscii()]) == {0: ['hello'], 1: ['world']}\n\t\t",
      },
      ast: '_==_(\n  [\n    "Hello"^#*expr.Constant_StringValue#,\n    "world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#.transformMap(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    [\n      v^#*expr.Expr_IdentExpr#.lowerAscii()^#*expr.Expr_CallExpr#\n    ]^#*expr.Expr_ListExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    0^#*expr.Constant_Int64Value#:[\n      "hello"^#*expr.Constant_StringValue#\n    ]^#*expr.Expr_ListExpr#^#*expr.Expr_CreateStruct_Entry#,\n    1^#*expr.Constant_Int64Value#:[\n      "world"^#*expr.Constant_StringValue#\n    ]^#*expr.Expr_ListExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:34: undeclared reference to 'transformMap' (in container '')\n |   ['Hello', 'world'].transformMap(i, v, [v.lowerAscii()]) == {0: ['hello'], 1: ['world']}\n | .................................^\nERROR: \u003cinput\u003e:2:35: undeclared reference to 'i' (in container '')\n |   ['Hello', 'world'].transformMap(i, v, [v.lowerAscii()]) == {0: ['hello'], 1: ['world']}\n | ..................................^\nERROR: \u003cinput\u003e:2:38: undeclared reference to 'v' (in container '')\n |   ['Hello', 'world'].transformMap(i, v, [v.lowerAscii()]) == {0: ['hello'], 1: ['world']}\n | .....................................^\nERROR: \u003cinput\u003e:2:42: undeclared reference to 'v' (in container '')\n |   ['Hello', 'world'].transformMap(i, v, [v.lowerAscii()]) == {0: ['hello'], 1: ['world']}\n | .........................................^",
    },
    {
      original: {
        expr: "\n\t\t// round-tripping example\n\t\t['world', 'Hello'].transformMap(i, v, [v.lowerAscii()])\n\t\t  .transformList(k, v, v) // extract the list back form the map\n\t\t  .flatten()\n\t\t  .sort() == ['hello', 'world']\n\t\t",
      },
      ast: '_==_(\n  [\n    "world"^#*expr.Constant_StringValue#,\n    "Hello"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#.transformMap(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    [\n      v^#*expr.Expr_IdentExpr#.lowerAscii()^#*expr.Expr_CallExpr#\n    ]^#*expr.Expr_ListExpr#\n  )^#*expr.Expr_CallExpr#.transformList(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#.flatten()^#*expr.Expr_CallExpr#.sort()^#*expr.Expr_CallExpr#,\n  [\n    "hello"^#*expr.Constant_StringValue#,\n    "world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:3:34: undeclared reference to 'transformMap' (in container '')\n |   ['world', 'Hello'].transformMap(i, v, [v.lowerAscii()])\n | .................................^\nERROR: \u003cinput\u003e:3:35: undeclared reference to 'i' (in container '')\n |   ['world', 'Hello'].transformMap(i, v, [v.lowerAscii()])\n | ..................................^\nERROR: \u003cinput\u003e:3:38: undeclared reference to 'v' (in container '')\n |   ['world', 'Hello'].transformMap(i, v, [v.lowerAscii()])\n | .....................................^\nERROR: \u003cinput\u003e:3:42: undeclared reference to 'v' (in container '')\n |   ['world', 'Hello'].transformMap(i, v, [v.lowerAscii()])\n | .........................................^\nERROR: \u003cinput\u003e:4:19: undeclared reference to 'transformList' (in container '')\n |     .transformList(k, v, v) // extract the list back form the map\n | ..................^\nERROR: \u003cinput\u003e:4:20: undeclared reference to 'k' (in container '')\n |     .transformList(k, v, v) // extract the list back form the map\n | ...................^\nERROR: \u003cinput\u003e:4:23: undeclared reference to 'v' (in container '')\n |     .transformList(k, v, v) // extract the list back form the map\n | ......................^\nERROR: \u003cinput\u003e:4:26: undeclared reference to 'v' (in container '')\n |     .transformList(k, v, v) // extract the list back form the map\n | .........................^\nERROR: \u003cinput\u003e:5:13: undeclared reference to 'flatten' (in container '')\n |     .flatten()\n | ............^\nERROR: \u003cinput\u003e:6:10: undeclared reference to 'sort' (in container '')\n |     .sort() == ['hello', 'world']\n | .........^",
    },
    {
      original: {
        expr: "\n\t\t[1, 2, 3].transformMap(indexVar, valueVar,\n\t      (indexVar * valueVar) + valueVar) == {0: 1, 1: 4, 2: 9}\n        ",
      },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    3^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformMap(\n    indexVar^#*expr.Expr_IdentExpr#,\n    valueVar^#*expr.Expr_IdentExpr#,\n    _+_(\n      _*_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        valueVar^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#,\n      valueVar^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    0^#*expr.Constant_Int64Value#:1^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n    1^#*expr.Constant_Int64Value#:4^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n    2^#*expr.Constant_Int64Value#:9^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:2:25: undeclared reference to 'transformMap' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar,\n | ........................^\nERROR: \u003cinput\u003e:2:26: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar,\n | .........................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar,\n | ...................................^\nERROR: \u003cinput\u003e:3:9: undeclared reference to 'indexVar' (in container '')\n |        (indexVar * valueVar) + valueVar) == {0: 1, 1: 4, 2: 9}\n | ........^\nERROR: \u003cinput\u003e:3:20: undeclared reference to 'valueVar' (in container '')\n |        (indexVar * valueVar) + valueVar) == {0: 1, 1: 4, 2: 9}\n | ...................^\nERROR: \u003cinput\u003e:3:32: undeclared reference to 'valueVar' (in container '')\n |        (indexVar * valueVar) + valueVar) == {0: 1, 1: 4, 2: 9}\n | ...............................^",
    },
    {
      original: {
        expr: "\n\t\t[1, 2, 3].transformMap(indexVar, valueVar, indexVar % 2 == 0,\n\t  \t  (indexVar * valueVar) + valueVar) == {0: 1, 2: 9}\n\t\t",
      },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    3^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformMap(\n    indexVar^#*expr.Expr_IdentExpr#,\n    valueVar^#*expr.Expr_IdentExpr#,\n    _==_(\n      _%_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        2^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _+_(\n      _*_(\n        indexVar^#*expr.Expr_IdentExpr#,\n        valueVar^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#,\n      valueVar^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    0^#*expr.Constant_Int64Value#:1^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n    2^#*expr.Constant_Int64Value#:9^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:2:25: undeclared reference to 'transformMap' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar, indexVar % 2 == 0,\n | ........................^\nERROR: \u003cinput\u003e:2:26: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar, indexVar % 2 == 0,\n | .........................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'valueVar' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar, indexVar % 2 == 0,\n | ...................................^\nERROR: \u003cinput\u003e:2:46: undeclared reference to 'indexVar' (in container '')\n |   [1, 2, 3].transformMap(indexVar, valueVar, indexVar % 2 == 0,\n | .............................................^\nERROR: \u003cinput\u003e:3:8: undeclared reference to 'indexVar' (in container '')\n |       (indexVar * valueVar) + valueVar) == {0: 1, 2: 9}\n | .......^\nERROR: \u003cinput\u003e:3:19: undeclared reference to 'valueVar' (in container '')\n |       (indexVar * valueVar) + valueVar) == {0: 1, 2: 9}\n | ..................^\nERROR: \u003cinput\u003e:3:31: undeclared reference to 'valueVar' (in container '')\n |       (indexVar * valueVar) + valueVar) == {0: 1, 2: 9}\n | ..............................^",
    },
    {
      original: {
        expr: "\n\t\t\"key1:value1 key2:value2 key3:value3\".split(\" \")\n\t\t.transformMapEntry(i, v,\n\t\t  cel.bind(entry, v.split(\":\"),\n\t\t    entry.size() == 2 ? {entry[0]: entry[1]} : {}\n\t\t  )\n\t\t) == {'key1': 'value1', 'key2': 'value2', 'key3': 'value3'}\n\t\t",
      },
      ast: '_==_(\n  "key1:value1 key2:value2 key3:value3"^#*expr.Constant_StringValue#.split(\n    " "^#*expr.Constant_StringValue#\n  )^#*expr.Expr_CallExpr#.transformMapEntry(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    cel^#*expr.Expr_IdentExpr#.bind(\n      entry^#*expr.Expr_IdentExpr#,\n      v^#*expr.Expr_IdentExpr#.split(\n        ":"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#,\n      _?_:_(\n        _==_(\n          entry^#*expr.Expr_IdentExpr#.size()^#*expr.Expr_CallExpr#,\n          2^#*expr.Constant_Int64Value#\n        )^#*expr.Expr_CallExpr#,\n        {\n          _[_](\n            entry^#*expr.Expr_IdentExpr#,\n            0^#*expr.Constant_Int64Value#\n          )^#*expr.Expr_CallExpr#:_[_](\n            entry^#*expr.Expr_IdentExpr#,\n            1^#*expr.Constant_Int64Value#\n          )^#*expr.Expr_CallExpr#^#*expr.Expr_CreateStruct_Entry#\n        }^#*expr.Expr_StructExpr#,\n        {}^#*expr.Expr_StructExpr#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "key1"^#*expr.Constant_StringValue#:"value1"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "key2"^#*expr.Constant_StringValue#:"value2"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "key3"^#*expr.Constant_StringValue#:"value3"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:3:21: undeclared reference to 'transformMapEntry' (in container '')\n |   .transformMapEntry(i, v,\n | ....................^\nERROR: \u003cinput\u003e:3:22: undeclared reference to 'i' (in container '')\n |   .transformMapEntry(i, v,\n | .....................^\nERROR: \u003cinput\u003e:3:25: undeclared reference to 'v' (in container '')\n |   .transformMapEntry(i, v,\n | ........................^\nERROR: \u003cinput\u003e:4:21: undeclared reference to 'v' (in container '')\n |     cel.bind(entry, v.split(\":\"),\n | ....................^",
    },
    {
      original: {
        expr: "\n\t\t\"key1:value1:extra key2:value2 key3\".split(\" \")\n\t\t.transformMapEntry(i, v,\n\t\t  cel.bind(entry, v.split(\":\"), {?entry[0]: entry[?1]})\n\t\t) == {'key1': 'value1', 'key2': 'value2'}\n\t\t",
      },
      error:
        "ERROR: :4:36: unsupported syntax '?'\n |     cel.bind(entry, v.split(\":\"), {?entry[0]: entry[?1]})\n | ...................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n\t\t",
      },
      ast: '{\n  "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "hello!"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.all(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    k^#*expr.Expr_IdentExpr#.startsWith(\n      "hello"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    _==_(\n      v^#*expr.Expr_IdentExpr#,\n      "world"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:44: undeclared reference to 'all' (in container '')\n |   {'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n | ...........................................^\nERROR: \u003cinput\u003e:2:45: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n | ............................................^\nERROR: \u003cinput\u003e:2:48: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n | ...............................................^\nERROR: \u003cinput\u003e:2:51: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n | ..................................................^\nERROR: \u003cinput\u003e:2:76: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'world'}.all(k, v, k.startsWith('hello') \u0026\u0026 v == 'world')\n | ...........................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "hello!"^#*expr.Constant_StringValue#:"worlds"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.all(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u0026\u0026_(\n      k^#*expr.Expr_IdentExpr#.startsWith(\n        "hello"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#,\n      v^#*expr.Expr_IdentExpr#.endsWith(\n        "world"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  false^#*expr.Constant_BoolValue#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:45: undeclared reference to 'all' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ............................................^\nERROR: \u003cinput\u003e:2:46: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | .............................................^\nERROR: \u003cinput\u003e:2:49: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ................................................^\nERROR: \u003cinput\u003e:2:52: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ...................................................^\nERROR: \u003cinput\u003e:2:77: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.all(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ............................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n\t\t",
      },
      ast: '{\n  "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "hello!"^#*expr.Constant_StringValue#:"worlds"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.exists(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    k^#*expr.Expr_IdentExpr#.startsWith(\n      "hello"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#.endsWith(\n      "world"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:48: undeclared reference to 'exists' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...............................................^\nERROR: \u003cinput\u003e:2:49: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ................................................^\nERROR: \u003cinput\u003e:2:52: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...................................................^\nERROR: \u003cinput\u003e:2:55: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ......................................................^\nERROR: \u003cinput\u003e:2:80: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...............................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n\t\t",
      },
      ast: '{\n  "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "hello!"^#*expr.Constant_StringValue#:"worlds"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.existsOne(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    k^#*expr.Expr_IdentExpr#.startsWith(\n      "hello"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#.endsWith(\n      "world"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:51: undeclared reference to 'existsOne' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ..................................................^\nERROR: \u003cinput\u003e:2:52: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...................................................^\nERROR: \u003cinput\u003e:2:55: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ......................................................^\nERROR: \u003cinput\u003e:2:58: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | .........................................................^\nERROR: \u003cinput\u003e:2:83: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.existsOne(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ..................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n\t\t",
      },
      ast: '{\n  "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "hello!"^#*expr.Constant_StringValue#:"worlds"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.exists_one(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    k^#*expr.Expr_IdentExpr#.startsWith(\n      "hello"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#.endsWith(\n      "world"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:52: undeclared reference to 'exists_one' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...................................................^\nERROR: \u003cinput\u003e:2:53: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ....................................................^\nERROR: \u003cinput\u003e:2:56: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | .......................................................^\nERROR: \u003cinput\u003e:2:59: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ..........................................................^\nERROR: \u003cinput\u003e:2:84: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'worlds'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world'))\n | ...................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "hello!"^#*expr.Constant_StringValue#:"wow, world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.exists_one(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u0026\u0026_(\n      k^#*expr.Expr_IdentExpr#.startsWith(\n        "hello"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#,\n      v^#*expr.Expr_IdentExpr#.endsWith(\n        "world"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  false^#*expr.Constant_BoolValue#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:56: undeclared reference to 'exists_one' (in container '')\n |   {'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | .......................................................^\nERROR: \u003cinput\u003e:2:57: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ........................................................^\nERROR: \u003cinput\u003e:2:60: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ...........................................................^\nERROR: \u003cinput\u003e:2:63: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | ..............................................................^\nERROR: \u003cinput\u003e:2:88: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'hello!': 'wow, world'}.exists_one(k, v, k.startsWith('hello') \u0026\u0026 v.endsWith('world')) == false\n | .......................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n\t\t",
      },
      ast: '_==_(\n  {\n    "Hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformList(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    "%s=%s"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#.lowerAscii()^#*expr.Expr_CallExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    "hello=world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:35: undeclared reference to 'transformList' (in container '')\n |   {'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ..................................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'k' (in container '')\n |   {'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ...................................^\nERROR: \u003cinput\u003e:2:39: undeclared reference to 'v' (in container '')\n |   {'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ......................................^\nERROR: \u003cinput\u003e:2:58: undeclared reference to 'k' (in container '')\n |   {'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | .........................................................^\nERROR: \u003cinput\u003e:2:74: undeclared reference to 'v' (in container '')\n |   {'Hello': 'world'}.transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | .........................................................................^",
    },
    {
      original: {
        expr: "\n\t\tdyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n\t\t",
      },
      ast: '_==_(\n  dyn(\n    {\n      "Hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#.transformList(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    "%s=%s"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#.lowerAscii()^#*expr.Expr_CallExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    "hello=world"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:40: undeclared reference to 'transformList' (in container '')\n |   dyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | .......................................^\nERROR: \u003cinput\u003e:2:41: undeclared reference to 'k' (in container '')\n |   dyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ........................................^\nERROR: \u003cinput\u003e:2:44: undeclared reference to 'v' (in container '')\n |   dyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ...........................................^\nERROR: \u003cinput\u003e:2:63: undeclared reference to 'k' (in container '')\n |   dyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ..............................................................^\nERROR: \u003cinput\u003e:2:79: undeclared reference to 'v' (in container '')\n |   dyn({'Hello': 'world'}).transformList(k, v, \"%s=%s\".format([k.lowerAscii(), v])) == [\"hello=world\"]\n | ..............................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformList(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    k^#*expr.Expr_IdentExpr#.startsWith(\n      "greeting"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    "%s=%s"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  []^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:35: undeclared reference to 'transformList' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | ..................................^\nERROR: \u003cinput\u003e:2:36: undeclared reference to 'k' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | ...................................^\nERROR: \u003cinput\u003e:2:39: undeclared reference to 'v' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | ......................................^\nERROR: \u003cinput\u003e:2:42: undeclared reference to 'k' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | .........................................^\nERROR: \u003cinput\u003e:2:84: undeclared reference to 'k' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | ...................................................................................^\nERROR: \u003cinput\u003e:2:87: undeclared reference to 'v' (in container '')\n |   {'hello': 'world'}.transformList(k, v, k.startsWith('greeting'), \"%s=%s\".format([k, v])) == []\n | ......................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'greeting': 'hello', 'farewell': 'goodbye'}\n\t\t  .transformList(k, _, k).sort() == ['farewell', 'greeting']\n\t\t",
      },
      ast: '_==_(\n  {\n    "greeting"^#*expr.Constant_StringValue#:"hello"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "farewell"^#*expr.Constant_StringValue#:"goodbye"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformList(\n    k^#*expr.Expr_IdentExpr#,\n    _^#*expr.Expr_IdentExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#.sort()^#*expr.Expr_CallExpr#,\n  [\n    "farewell"^#*expr.Constant_StringValue#,\n    "greeting"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:3:19: undeclared reference to 'transformList' (in container '')\n |     .transformList(k, _, k).sort() == ['farewell', 'greeting']\n | ..................^\nERROR: \u003cinput\u003e:3:20: undeclared reference to 'k' (in container '')\n |     .transformList(k, _, k).sort() == ['farewell', 'greeting']\n | ...................^\nERROR: \u003cinput\u003e:3:23: undeclared reference to '_' (in container '')\n |     .transformList(k, _, k).sort() == ['farewell', 'greeting']\n | ......................^\nERROR: \u003cinput\u003e:3:26: undeclared reference to 'k' (in container '')\n |     .transformList(k, _, k).sort() == ['farewell', 'greeting']\n | .........................^\nERROR: \u003cinput\u003e:3:33: undeclared reference to 'sort' (in container '')\n |     .transformList(k, _, k).sort() == ['farewell', 'greeting']\n | ................................^",
    },
    {
      original: {
        expr: "\n\t\t{'greeting': 'hello', 'farewell': 'goodbye'}\n\t\t  .transformList(_, v, v).sort() == ['goodbye', 'hello']\n\t\t",
      },
      ast: '_==_(\n  {\n    "greeting"^#*expr.Constant_StringValue#:"hello"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "farewell"^#*expr.Constant_StringValue#:"goodbye"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformList(\n    _^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#.sort()^#*expr.Expr_CallExpr#,\n  [\n    "goodbye"^#*expr.Constant_StringValue#,\n    "hello"^#*expr.Constant_StringValue#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:3:19: undeclared reference to 'transformList' (in container '')\n |     .transformList(_, v, v).sort() == ['goodbye', 'hello']\n | ..................^\nERROR: \u003cinput\u003e:3:20: undeclared reference to '_' (in container '')\n |     .transformList(_, v, v).sort() == ['goodbye', 'hello']\n | ...................^\nERROR: \u003cinput\u003e:3:23: undeclared reference to 'v' (in container '')\n |     .transformList(_, v, v).sort() == ['goodbye', 'hello']\n | ......................^\nERROR: \u003cinput\u003e:3:26: undeclared reference to 'v' (in container '')\n |     .transformList(_, v, v).sort() == ['goodbye', 'hello']\n | .........................^\nERROR: \u003cinput\u003e:3:33: undeclared reference to 'sort' (in container '')\n |     .transformList(_, v, v).sort() == ['goodbye', 'hello']\n | ................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n\t\t   == {'hello': 'hello, world!', 'goodbye': 'goodbye, cruel world!'}\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "goodbye"^#*expr.Constant_StringValue#:"cruel world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    "%s, %s!"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "hello"^#*expr.Constant_StringValue#:"hello, world!"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "goodbye"^#*expr.Constant_StringValue#:"goodbye, cruel world!"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:60: undeclared reference to 'transformMap' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ...........................................................^\nERROR: \u003cinput\u003e:2:61: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ............................................................^\nERROR: \u003cinput\u003e:2:64: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ...............................................................^\nERROR: \u003cinput\u003e:2:85: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ....................................................................................^\nERROR: \u003cinput\u003e:2:88: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, \"%s, %s!\".format([k, v]))\n | .......................................................................................^",
    },
    {
      original: {
        expr: "\n\t\tdyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n\t\t   == {'hello': 'hello, world!', 'goodbye': 'goodbye, cruel world!'}\n\t\t",
      },
      ast: '_==_(\n  dyn(\n    {\n      "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n      "goodbye"^#*expr.Constant_StringValue#:"cruel world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    "%s, %s!"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "hello"^#*expr.Constant_StringValue#:"hello, world!"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "goodbye"^#*expr.Constant_StringValue#:"goodbye, cruel world!"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:65: undeclared reference to 'transformMap' (in container '')\n |   dyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ................................................................^\nERROR: \u003cinput\u003e:2:66: undeclared reference to 'k' (in container '')\n |   dyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n | .................................................................^\nERROR: \u003cinput\u003e:2:69: undeclared reference to 'v' (in container '')\n |   dyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ....................................................................^\nERROR: \u003cinput\u003e:2:90: undeclared reference to 'k' (in container '')\n |   dyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n | .........................................................................................^\nERROR: \u003cinput\u003e:2:93: undeclared reference to 'v' (in container '')\n |   dyn({'hello': 'world', 'goodbye': 'cruel world'}).transformMap(k, v, \"%s, %s!\".format([k, v]))\n | ............................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n\t\t   == {'hello': 'hello, world!'}\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "goodbye"^#*expr.Constant_StringValue#:"cruel world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#.startsWith(\n      "world"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    "%s, %s!"^#*expr.Constant_StringValue#.format(\n      [\n        k^#*expr.Expr_IdentExpr#,\n        v^#*expr.Expr_IdentExpr#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "hello"^#*expr.Constant_StringValue#:"hello, world!"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:60: undeclared reference to 'transformMap' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ...........................................................^\nERROR: \u003cinput\u003e:2:61: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ............................................................^\nERROR: \u003cinput\u003e:2:64: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ...............................................................^\nERROR: \u003cinput\u003e:2:67: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ..................................................................^\nERROR: \u003cinput\u003e:2:108: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ...........................................................................................................^\nERROR: \u003cinput\u003e:2:111: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'goodbye': 'cruel world'}.transformMap(k, v, v.startsWith('world'), \"%s, %s!\".format([k, v]))\n | ..............................................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n\t\t   == {'olleh': 'dlrow', 'sgniteerg': 'tacocat'}\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "greetings"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {\n      k^#*expr.Expr_IdentExpr#.reverse()^#*expr.Expr_CallExpr#:v^#*expr.Expr_IdentExpr#.reverse()^#*expr.Expr_CallExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "olleh"^#*expr.Constant_StringValue#:"dlrow"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "sgniteerg"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:63: undeclared reference to 'transformMapEntry' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n | ..............................................................^\nERROR: \u003cinput\u003e:2:64: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n | ...............................................................^\nERROR: \u003cinput\u003e:2:67: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n | ..................................................................^\nERROR: \u003cinput\u003e:2:71: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n | ......................................................................^\nERROR: \u003cinput\u003e:2:84: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {k.reverse(): v.reverse()})\n | ...................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n\t\t   == {'sgniteerg': 'tacocat'}\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "greetings"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _==_(\n      v^#*expr.Expr_IdentExpr#.reverse()^#*expr.Expr_CallExpr#,\n      v^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#,\n    {\n      k^#*expr.Expr_IdentExpr#.reverse()^#*expr.Expr_CallExpr#:v^#*expr.Expr_IdentExpr#.reverse()^#*expr.Expr_CallExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "sgniteerg"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:63: undeclared reference to 'transformMapEntry' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | ..............................................................^\nERROR: \u003cinput\u003e:2:64: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | ...............................................................^\nERROR: \u003cinput\u003e:2:67: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | ..................................................................^\nERROR: \u003cinput\u003e:2:70: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | .....................................................................^\nERROR: \u003cinput\u003e:2:85: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | ....................................................................................^\nERROR: \u003cinput\u003e:2:89: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | ........................................................................................^\nERROR: \u003cinput\u003e:2:102: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, v.reverse() == v, {k.reverse(): v.reverse()})\n | .....................................................................................................^",
    },
    {
      original: {
        expr: "\n\t\t{'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {}) == {}\n\t\t",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "greetings"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {}^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#,\n  {}^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:2:63: undeclared reference to 'transformMapEntry' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {}) == {}\n | ..............................................................^\nERROR: \u003cinput\u003e:2:64: undeclared reference to 'k' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {}) == {}\n | ...............................................................^\nERROR: \u003cinput\u003e:2:67: undeclared reference to 'v' (in container '')\n |   {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, {}) == {}\n | ..................................................................^",
    },
    {
      original: {
        expr: "[1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)",
      },
      ast: "[\n  1^#*expr.Constant_Int64Value#,\n  2^#*expr.Constant_Int64Value#,\n  3^#*expr.Constant_Int64Value#,\n  4^#*expr.Constant_Int64Value#\n]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    _\u003c_(\n      i^#*expr.Expr_IdentExpr#,\n      5^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _\u003e_(\n      v^#*expr.Expr_IdentExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'all' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'i' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .......................^\nERROR: \u003cinput\u003e:1:33: undeclared reference to 'v' (in container '')\n | [1, 2, 3, 4].all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ................................^",
    },
    {
      original: {
        expr: "{1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)",
      },
      ast: "{\n  1^#*expr.Constant_Int64Value#:1^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n  2^#*expr.Constant_Int64Value#:2^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n  3^#*expr.Constant_Int64Value#:3^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    _\u003c_(\n      i^#*expr.Expr_IdentExpr#,\n      5^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _\u003e_(\n      v^#*expr.Expr_IdentExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:23: undeclared reference to 'all' (in container '')\n | {1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ......................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'i' (in container '')\n | {1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .......................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'v' (in container '')\n | {1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ..........................^\nERROR: \u003cinput\u003e:1:30: undeclared reference to 'i' (in container '')\n | {1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .............................^\nERROR: \u003cinput\u003e:1:39: undeclared reference to 'v' (in container '')\n | {1: 1, 2: 2, 3: 3}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ......................................^",
    },
    {
      original: {
        expr: "!{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)",
      },
      ast: "!_(\n  {\n    0^#*expr.Constant_Int64Value#:0^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.all(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u0026\u0026_(\n      _\u003c_(\n        i^#*expr.Expr_IdentExpr#,\n        5^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      _\u003e_(\n        v^#*expr.Expr_IdentExpr#,\n        0^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:12: undeclared reference to 'all' (in container '')\n | !{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ...........^\nERROR: \u003cinput\u003e:1:13: undeclared reference to 'i' (in container '')\n | !{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ............^\nERROR: \u003cinput\u003e:1:16: undeclared reference to 'v' (in container '')\n | !{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ...............^\nERROR: \u003cinput\u003e:1:19: undeclared reference to 'i' (in container '')\n | !{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ..................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | !{0: 0}.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ...........................^",
    },
    {
      original: { expr: "m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)" },
      ast: "m^#*expr.Expr_IdentExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u0026\u0026_(\n    _\u003c_(\n      i^#*expr.Expr_IdentExpr#,\n      5^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _\u003e_(\n      v^#*expr.Expr_IdentExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'm' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ^\nERROR: \u003cinput\u003e:1:6: undeclared reference to 'all' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .....^\nERROR: \u003cinput\u003e:1:7: undeclared reference to 'i' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ......^\nERROR: \u003cinput\u003e:1:10: undeclared reference to 'v' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .........^\nERROR: \u003cinput\u003e:1:13: undeclared reference to 'i' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | ............^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'v' (in container '')\n | m.all(i, v, i \u003c 5 \u0026\u0026 v \u003e 0)\n | .....................^",
    },
    {
      original: { expr: "m.all(k, v, k \u003c v)" },
      ast: "m^#*expr.Expr_IdentExpr#.all(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'm' (in container '')\n | m.all(k, v, k \u003c v)\n | ^\nERROR: \u003cinput\u003e:1:6: undeclared reference to 'all' (in container '')\n | m.all(k, v, k \u003c v)\n | .....^\nERROR: \u003cinput\u003e:1:7: undeclared reference to 'k' (in container '')\n | m.all(k, v, k \u003c v)\n | ......^\nERROR: \u003cinput\u003e:1:10: undeclared reference to 'v' (in container '')\n | m.all(k, v, k \u003c v)\n | .........^\nERROR: \u003cinput\u003e:1:13: undeclared reference to 'k' (in container '')\n | m.all(k, v, k \u003c v)\n | ............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'v' (in container '')\n | m.all(k, v, k \u003c v)\n | ................^",
    },
    {
      original: { expr: "[].transformList(i, v, v) == []" },
      ast: "_==_(\n  []^#*expr.Expr_ListExpr#.transformList(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#,\n  []^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'transformList' (in container '')\n | [].transformList(i, v, v) == []\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [].transformList(i, v, v) == []\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'v' (in container '')\n | [].transformList(i, v, v) == []\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'v' (in container '')\n | [].transformList(i, v, v) == []\n | .......................^",
    },
    {
      original: { expr: "[1].transformList(i, v, i) == [0]" },
      ast: "_==_(\n  [\n    1^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    0^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:18: undeclared reference to 'transformList' (in container '')\n | [1].transformList(i, v, i) == [0]\n | .................^\nERROR: \u003cinput\u003e:1:19: undeclared reference to 'i' (in container '')\n | [1].transformList(i, v, i) == [0]\n | ..................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'v' (in container '')\n | [1].transformList(i, v, i) == [0]\n | .....................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'i' (in container '')\n | [1].transformList(i, v, i) == [0]\n | ........................^",
    },
    {
      original: {
        expr: "[3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]",
      },
      ast: "_==_(\n  [\n    3^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#,\n    1^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#.transformList(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u003e_(\n      v^#*expr.Expr_IdentExpr#,\n      i^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#,\n  [\n    3^#*expr.Constant_Int64Value#,\n    2^#*expr.Constant_Int64Value#\n  ]^#*expr.Expr_ListExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:24: undeclared reference to 'transformList' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | .......................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'i' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | ........................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | ...........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'v' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | ..............................^\nERROR: \u003cinput\u003e:1:35: undeclared reference to 'i' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | ..................................^\nERROR: \u003cinput\u003e:1:38: undeclared reference to 'v' (in container '')\n | [3, 2, 1].transformList(i, v, v \u003e i, v) == [3, 2]\n | .....................................^",
    },
    {
      original: { expr: "[].transformMap(k, v, v + 1) == {}" },
      ast: "_==_(\n  []^#*expr.Expr_ListExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _+_(\n      v^#*expr.Expr_IdentExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {}^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:16: undeclared reference to 'transformMap' (in container '')\n | [].transformMap(k, v, v + 1) == {}\n | ...............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'k' (in container '')\n | [].transformMap(k, v, v + 1) == {}\n | ................^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'v' (in container '')\n | [].transformMap(k, v, v + 1) == {}\n | ...................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'v' (in container '')\n | [].transformMap(k, v, v + 1) == {}\n | ......................^",
    },
    {
      original: { expr: "{}.transformMap(k, v, v + 1) == {}" },
      ast: "_==_(\n  {}^#*expr.Expr_StructExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _+_(\n      v^#*expr.Expr_IdentExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {}^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:16: undeclared reference to 'transformMap' (in container '')\n | {}.transformMap(k, v, v + 1) == {}\n | ...............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'k' (in container '')\n | {}.transformMap(k, v, v + 1) == {}\n | ................^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'v' (in container '')\n | {}.transformMap(k, v, v + 1) == {}\n | ...................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'v' (in container '')\n | {}.transformMap(k, v, v + 1) == {}\n | ......................^",
    },
    {
      original: { expr: "{1: 2}.transformMap(k, v, v + 1) == {1: 3}" },
      ast: "_==_(\n  {\n    1^#*expr.Constant_Int64Value#:2^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _+_(\n      v^#*expr.Expr_IdentExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    1^#*expr.Constant_Int64Value#:3^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:20: undeclared reference to 'transformMap' (in container '')\n | {1: 2}.transformMap(k, v, v + 1) == {1: 3}\n | ...................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'k' (in container '')\n | {1: 2}.transformMap(k, v, v + 1) == {1: 3}\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'v' (in container '')\n | {1: 2}.transformMap(k, v, v + 1) == {1: 3}\n | .......................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'v' (in container '')\n | {1: 2}.transformMap(k, v, v + 1) == {1: 3}\n | ..........................^",
    },
    {
      original: {
        expr: 'cel.bind(m, {"hello": "hello"},\n\t\t\t                m.transformMap(k, v, v + "world")) == {"hello": "helloworld"}',
      },
      ast: '_==_(\n  cel^#*expr.Expr_IdentExpr#.bind(\n    m^#*expr.Expr_IdentExpr#,\n    {\n      "hello"^#*expr.Constant_StringValue#:"hello"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#,\n    m^#*expr.Expr_IdentExpr#.transformMap(\n      k^#*expr.Expr_IdentExpr#,\n      v^#*expr.Expr_IdentExpr#,\n      _+_(\n        v^#*expr.Expr_IdentExpr#,\n        "world"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "hello"^#*expr.Constant_StringValue#:"helloworld"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        'ERROR: \u003cinput\u003e:2:34: undeclared reference to \'transformMap\' (in container \'\')\n |                    m.transformMap(k, v, v + "world")) == {"hello": "helloworld"}\n | .................................^\nERROR: \u003cinput\u003e:2:35: undeclared reference to \'k\' (in container \'\')\n |                    m.transformMap(k, v, v + "world")) == {"hello": "helloworld"}\n | ..................................^\nERROR: \u003cinput\u003e:2:38: undeclared reference to \'v\' (in container \'\')\n |                    m.transformMap(k, v, v + "world")) == {"hello": "helloworld"}\n | .....................................^\nERROR: \u003cinput\u003e:2:41: undeclared reference to \'v\' (in container \'\')\n |                    m.transformMap(k, v, v + "world")) == {"hello": "helloworld"}\n | ........................................^',
    },
    {
      original: {
        expr: "{1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}",
      },
      ast: "_==_(\n  {\n    1^#*expr.Constant_Int64Value#:2^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n    3^#*expr.Constant_Int64Value#:4^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#,\n    5^#*expr.Constant_Int64Value#:6^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _==_(\n      _%_(\n        k^#*expr.Expr_IdentExpr#,\n        3^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _+_(\n      v^#*expr.Expr_IdentExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    3^#*expr.Constant_Int64Value#:5^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:32: undeclared reference to 'transformMap' (in container '')\n | {1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}\n | ...............................^\nERROR: \u003cinput\u003e:1:33: undeclared reference to 'k' (in container '')\n | {1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}\n | ................................^\nERROR: \u003cinput\u003e:1:36: undeclared reference to 'v' (in container '')\n | {1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}\n | ...................................^\nERROR: \u003cinput\u003e:1:39: undeclared reference to 'k' (in container '')\n | {1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}\n | ......................................^\nERROR: \u003cinput\u003e:1:51: undeclared reference to 'v' (in container '')\n | {1: 2, 3: 4, 5: 6}.transformMap(k, v, k % 3 == 0, v + 1) == {3: 5}\n | ..................................................^",
    },
    {
      original: {
        expr: "m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}",
      },
      ast: '_==_(\n  m^#*expr.Expr_IdentExpr#.transformMap(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    _\u0026\u0026_(\n      k^#*expr.Expr_IdentExpr#.startsWith(\n        "legacy"^#*expr.Constant_StringValue#\n      )^#*expr.Expr_CallExpr#,\n      _==_(\n        v^#*expr.Expr_IdentExpr#.size()^#*expr.Expr_CallExpr#,\n        1^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#,\n    _+_(\n      v^#*expr.Expr_IdentExpr#,\n      [\n        2^#*expr.Constant_Int64Value#\n      ]^#*expr.Expr_ListExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    "legacy-solo"^#*expr.Constant_StringValue#:[\n      1^#*expr.Constant_Int64Value#,\n      2^#*expr.Constant_Int64Value#\n    ]^#*expr.Expr_ListExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'm' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'transformMap' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ..............^\nERROR: \u003cinput\u003e:1:16: undeclared reference to 'k' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ...............^\nERROR: \u003cinput\u003e:1:19: undeclared reference to 'v' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ..................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'k' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | .....................^\nERROR: \u003cinput\u003e:1:48: undeclared reference to 'v' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ...............................................^\nERROR: \u003cinput\u003e:1:63: undeclared reference to 'v' (in container '')\n | m.transformMap(k, v, k.startsWith('legacy') \u0026\u0026 v.size() == 1, v + [2]) == {'legacy-solo': [1, 2]}\n | ..............................................................^",
    },
    {
      original: { expr: "{1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}" },
      ast: "_==_(\n  {\n    1^#*expr.Constant_Int64Value#:2^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {\n      v^#*expr.Expr_IdentExpr#:k^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    2^#*expr.Constant_Int64Value#:1^#*expr.Constant_Int64Value#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:25: undeclared reference to 'transformMapEntry' (in container '')\n | {1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}\n | ........................^\nERROR: \u003cinput\u003e:1:26: undeclared reference to 'k' (in container '')\n | {1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}\n | .........................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'v' (in container '')\n | {1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}\n | ............................^\nERROR: \u003cinput\u003e:1:33: undeclared reference to 'v' (in container '')\n | {1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}\n | ................................^\nERROR: \u003cinput\u003e:1:36: undeclared reference to 'k' (in container '')\n | {1: 2}.transformMapEntry(k, v, {v: k}) == {2: 1}\n | ...................................^",
    },
    {
      original: {
        expr: "m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})",
      },
      ast: "_==_(\n  m^#*expr.Expr_IdentExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {\n      v^#*expr.Expr_IdentExpr#:k^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#,\n  m^#*expr.Expr_IdentExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {\n      v^#*expr.Expr_IdentExpr#:k^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'm' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'transformMapEntry' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ...................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'k' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'v' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | .......................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ...........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'k' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ..............................^\nERROR: \u003cinput\u003e:1:38: undeclared reference to 'm' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | .....................................^\nERROR: \u003cinput\u003e:1:57: undeclared reference to 'transformMapEntry' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ........................................................^\nERROR: \u003cinput\u003e:1:58: undeclared reference to 'k' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | .........................................................^\nERROR: \u003cinput\u003e:1:61: undeclared reference to 'v' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ............................................................^\nERROR: \u003cinput\u003e:1:65: undeclared reference to 'v' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ................................................................^\nERROR: \u003cinput\u003e:1:68: undeclared reference to 'k' (in container '')\n | m.transformMapEntry(k, v, {v: k}) == m.transformMapEntry(k, v, {v: k})\n | ...................................................................^",
    },
    {
      original: { expr: "[].all(i, i, i \u003c i)" },
      ast: "[]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:7: undeclared reference to 'all' (in container '')\n | [].all(i, i, i \u003c i)\n | ......^\nERROR: \u003cinput\u003e:1:8: undeclared reference to 'i' (in container '')\n | [].all(i, i, i \u003c i)\n | .......^\nERROR: \u003cinput\u003e:1:11: undeclared reference to 'i' (in container '')\n | [].all(i, i, i \u003c i)\n | ..........^\nERROR: \u003cinput\u003e:1:14: undeclared reference to 'i' (in container '')\n | [].all(i, i, i \u003c i)\n | .............^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [].all(i, i, i \u003c i)\n | .................^",
    },
    {
      original: { expr: "[].all(__result__, i, __result__ \u003c i)" },
      ast: "[]^#*expr.Expr_ListExpr#.all(\n  __result__^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    __result__^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:7: undeclared reference to 'all' (in container '')\n | [].all(__result__, i, __result__ \u003c i)\n | ......^\nERROR: \u003cinput\u003e:1:8: undeclared reference to '__result__' (in container '')\n | [].all(__result__, i, __result__ \u003c i)\n | .......^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'i' (in container '')\n | [].all(__result__, i, __result__ \u003c i)\n | ...................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to '__result__' (in container '')\n | [].all(__result__, i, __result__ \u003c i)\n | ......................^\nERROR: \u003cinput\u003e:1:36: undeclared reference to 'i' (in container '')\n | [].all(__result__, i, __result__ \u003c i)\n | ...................................^",
    },
    {
      original: { expr: "[].all(j, __result__, __result__ \u003c j)" },
      ast: "[]^#*expr.Expr_ListExpr#.all(\n  j^#*expr.Expr_IdentExpr#,\n  __result__^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    __result__^#*expr.Expr_IdentExpr#,\n    j^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:7: undeclared reference to 'all' (in container '')\n | [].all(j, __result__, __result__ \u003c j)\n | ......^\nERROR: \u003cinput\u003e:1:8: undeclared reference to 'j' (in container '')\n | [].all(j, __result__, __result__ \u003c j)\n | .......^\nERROR: \u003cinput\u003e:1:11: undeclared reference to '__result__' (in container '')\n | [].all(j, __result__, __result__ \u003c j)\n | ..........^\nERROR: \u003cinput\u003e:1:23: undeclared reference to '__result__' (in container '')\n | [].all(j, __result__, __result__ \u003c j)\n | ......................^\nERROR: \u003cinput\u003e:1:36: undeclared reference to 'j' (in container '')\n | [].all(j, __result__, __result__ \u003c j)\n | ...................................^",
    },
    {
      original: { expr: "[].all(i.j, k, i.j \u003c k)" },
      ast: "[]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:7: undeclared reference to 'all' (in container '')\n | [].all(i.j, k, i.j \u003c k)\n | ......^\nERROR: \u003cinput\u003e:1:8: undeclared reference to 'i' (in container '')\n | [].all(i.j, k, i.j \u003c k)\n | .......^\nERROR: \u003cinput\u003e:1:13: undeclared reference to 'k' (in container '')\n | [].all(i.j, k, i.j \u003c k)\n | ............^\nERROR: \u003cinput\u003e:1:16: undeclared reference to 'i' (in container '')\n | [].all(i.j, k, i.j \u003c k)\n | ...............^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'k' (in container '')\n | [].all(i.j, k, i.j \u003c k)\n | .....................^",
    },
    {
      original: { expr: "[].all(j, i.k, j \u003c i.k)" },
      ast: "[]^#*expr.Expr_ListExpr#.all(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:7: undeclared reference to 'all' (in container '')\n | [].all(j, i.k, j \u003c i.k)\n | ......^\nERROR: \u003cinput\u003e:1:8: undeclared reference to 'j' (in container '')\n | [].all(j, i.k, j \u003c i.k)\n | .......^\nERROR: \u003cinput\u003e:1:11: undeclared reference to 'i' (in container '')\n | [].all(j, i.k, j \u003c i.k)\n | ..........^\nERROR: \u003cinput\u003e:1:16: undeclared reference to 'j' (in container '')\n | [].all(j, i.k, j \u003c i.k)\n | ...............^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'i' (in container '')\n | [].all(j, i.k, j \u003c i.k)\n | ...................^",
    },
    {
      original: { expr: "1.all(j, k, j \u003c k)" },
      ast: "1^#*expr.Constant_Int64Value#.all(\n  j^#*expr.Expr_IdentExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:6: undeclared reference to 'all' (in container '')\n | 1.all(j, k, j \u003c k)\n | .....^\nERROR: \u003cinput\u003e:1:7: undeclared reference to 'j' (in container '')\n | 1.all(j, k, j \u003c k)\n | ......^\nERROR: \u003cinput\u003e:1:10: undeclared reference to 'k' (in container '')\n | 1.all(j, k, j \u003c k)\n | .........^\nERROR: \u003cinput\u003e:1:13: undeclared reference to 'j' (in container '')\n | 1.all(j, k, j \u003c k)\n | ............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'k' (in container '')\n | 1.all(j, k, j \u003c k)\n | ................^",
    },
    {
      original: { expr: "[].exists(i.j, k, i.j \u003c k)" },
      ast: "[]^#*expr.Expr_ListExpr#.exists(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:10: undeclared reference to 'exists' (in container '')\n | [].exists(i.j, k, i.j \u003c k)\n | .........^\nERROR: \u003cinput\u003e:1:11: undeclared reference to 'i' (in container '')\n | [].exists(i.j, k, i.j \u003c k)\n | ..........^\nERROR: \u003cinput\u003e:1:16: undeclared reference to 'k' (in container '')\n | [].exists(i.j, k, i.j \u003c k)\n | ...............^\nERROR: \u003cinput\u003e:1:19: undeclared reference to 'i' (in container '')\n | [].exists(i.j, k, i.j \u003c k)\n | ..................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'k' (in container '')\n | [].exists(i.j, k, i.j \u003c k)\n | ........................^",
    },
    {
      original: { expr: "[].exists(j, i.k, j \u003c i.k)" },
      ast: "[]^#*expr.Expr_ListExpr#.exists(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:10: undeclared reference to 'exists' (in container '')\n | [].exists(j, i.k, j \u003c i.k)\n | .........^\nERROR: \u003cinput\u003e:1:11: undeclared reference to 'j' (in container '')\n | [].exists(j, i.k, j \u003c i.k)\n | ..........^\nERROR: \u003cinput\u003e:1:14: undeclared reference to 'i' (in container '')\n | [].exists(j, i.k, j \u003c i.k)\n | .............^\nERROR: \u003cinput\u003e:1:19: undeclared reference to 'j' (in container '')\n | [].exists(j, i.k, j \u003c i.k)\n | ..................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'i' (in container '')\n | [].exists(j, i.k, j \u003c i.k)\n | ......................^",
    },
    {
      original: { expr: "''.exists(j, k, j \u003c k)" },
      ast: '""^#*expr.Constant_StringValue#.exists(\n  j^#*expr.Expr_IdentExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:10: undeclared reference to 'exists' (in container '')\n | ''.exists(j, k, j \u003c k)\n | .........^\nERROR: \u003cinput\u003e:1:11: undeclared reference to 'j' (in container '')\n | ''.exists(j, k, j \u003c k)\n | ..........^\nERROR: \u003cinput\u003e:1:14: undeclared reference to 'k' (in container '')\n | ''.exists(j, k, j \u003c k)\n | .............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'j' (in container '')\n | ''.exists(j, k, j \u003c k)\n | ................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'k' (in container '')\n | ''.exists(j, k, j \u003c k)\n | ....................^",
    },
    {
      original: { expr: "[].exists_one(i.j, k, i.j \u003c k)" },
      ast: "[]^#*expr.Expr_ListExpr#.exists_one(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:14: undeclared reference to 'exists_one' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | .............^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'i' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ..............^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'k' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ...................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'i' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'k' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ............................^",
    },
    {
      original: { expr: "[].existsOne(j, i.k, j \u003c i.k)" },
      ast: "[]^#*expr.Expr_ListExpr#.existsOne(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:13: undeclared reference to 'existsOne' (in container '')\n | [].existsOne(j, i.k, j \u003c i.k)\n | ............^\nERROR: \u003cinput\u003e:1:14: undeclared reference to 'j' (in container '')\n | [].existsOne(j, i.k, j \u003c i.k)\n | .............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'i' (in container '')\n | [].existsOne(j, i.k, j \u003c i.k)\n | ................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'j' (in container '')\n | [].existsOne(j, i.k, j \u003c i.k)\n | .....................^\nERROR: \u003cinput\u003e:1:26: undeclared reference to 'i' (in container '')\n | [].existsOne(j, i.k, j \u003c i.k)\n | .........................^",
    },
    {
      original: { expr: "[].exists_one(i.j, k, i.j \u003c k)" },
      ast: "[]^#*expr.Expr_ListExpr#.exists_one(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:14: undeclared reference to 'exists_one' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | .............^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'i' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ..............^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'k' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ...................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'i' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'k' (in container '')\n | [].exists_one(i.j, k, i.j \u003c k)\n | ............................^",
    },
    {
      original: { expr: "''.existsOne(j, k, j \u003c k)" },
      ast: '""^#*expr.Constant_StringValue#.existsOne(\n  j^#*expr.Expr_IdentExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    j^#*expr.Expr_IdentExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:13: undeclared reference to 'existsOne' (in container '')\n | ''.existsOne(j, k, j \u003c k)\n | ............^\nERROR: \u003cinput\u003e:1:14: undeclared reference to 'j' (in container '')\n | ''.existsOne(j, k, j \u003c k)\n | .............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'k' (in container '')\n | ''.existsOne(j, k, j \u003c k)\n | ................^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'j' (in container '')\n | ''.existsOne(j, k, j \u003c k)\n | ...................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'k' (in container '')\n | ''.existsOne(j, k, j \u003c k)\n | .......................^",
    },
    {
      original: { expr: "[].transformList(i.j, k, i.j + k)" },
      ast: "[]^#*expr.Expr_ListExpr#.transformList(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _+_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'transformList' (in container '')\n | [].transformList(i.j, k, i.j + k)\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'i' (in container '')\n | [].transformList(i.j, k, i.j + k)\n | .................^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'k' (in container '')\n | [].transformList(i.j, k, i.j + k)\n | ......................^\nERROR: \u003cinput\u003e:1:26: undeclared reference to 'i' (in container '')\n | [].transformList(i.j, k, i.j + k)\n | .........................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'k' (in container '')\n | [].transformList(i.j, k, i.j + k)\n | ...............................^",
    },
    {
      original: { expr: "[].transformList(j, i.k, j + i.k)" },
      ast: "[]^#*expr.Expr_ListExpr#.transformList(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  _+_(\n    j^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:17: undeclared reference to 'transformList' (in container '')\n | [].transformList(j, i.k, j + i.k)\n | ................^\nERROR: \u003cinput\u003e:1:18: undeclared reference to 'j' (in container '')\n | [].transformList(j, i.k, j + i.k)\n | .................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'i' (in container '')\n | [].transformList(j, i.k, j + i.k)\n | ....................^\nERROR: \u003cinput\u003e:1:26: undeclared reference to 'j' (in container '')\n | [].transformList(j, i.k, j + i.k)\n | .........................^\nERROR: \u003cinput\u003e:1:30: undeclared reference to 'i' (in container '')\n | [].transformList(j, i.k, j + i.k)\n | .............................^",
    },
    {
      original: { expr: "{}.transformMap(i.j, k, i.j + k)" },
      ast: "{}^#*expr.Expr_StructExpr#.transformMap(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  _+_(\n    i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n    k^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:16: undeclared reference to 'transformMap' (in container '')\n | {}.transformMap(i.j, k, i.j + k)\n | ...............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'i' (in container '')\n | {}.transformMap(i.j, k, i.j + k)\n | ................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'k' (in container '')\n | {}.transformMap(i.j, k, i.j + k)\n | .....................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'i' (in container '')\n | {}.transformMap(i.j, k, i.j + k)\n | ........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'k' (in container '')\n | {}.transformMap(i.j, k, i.j + k)\n | ..............................^",
    },
    {
      original: { expr: "{}.transformMap(j, i.k, j + i.k)" },
      ast: "{}^#*expr.Expr_StructExpr#.transformMap(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  _+_(\n    j^#*expr.Expr_IdentExpr#,\n    i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:16: undeclared reference to 'transformMap' (in container '')\n | {}.transformMap(j, i.k, j + i.k)\n | ...............^\nERROR: \u003cinput\u003e:1:17: undeclared reference to 'j' (in container '')\n | {}.transformMap(j, i.k, j + i.k)\n | ................^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'i' (in container '')\n | {}.transformMap(j, i.k, j + i.k)\n | ...................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'j' (in container '')\n | {}.transformMap(j, i.k, j + i.k)\n | ........................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'i' (in container '')\n | {}.transformMap(j, i.k, j + i.k)\n | ............................^",
    },
    {
      original: { expr: "{}.transformMapEntry(j, i.k, {j: i.k})" },
      ast: "{}^#*expr.Expr_StructExpr#.transformMapEntry(\n  j^#*expr.Expr_IdentExpr#,\n  i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#,\n  {\n    j^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#.k^#*expr.Expr_SelectExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:21: undeclared reference to 'transformMapEntry' (in container '')\n | {}.transformMapEntry(j, i.k, {j: i.k})\n | ....................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'j' (in container '')\n | {}.transformMapEntry(j, i.k, {j: i.k})\n | .....................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'i' (in container '')\n | {}.transformMapEntry(j, i.k, {j: i.k})\n | ........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'j' (in container '')\n | {}.transformMapEntry(j, i.k, {j: i.k})\n | ..............................^\nERROR: \u003cinput\u003e:1:34: undeclared reference to 'i' (in container '')\n | {}.transformMapEntry(j, i.k, {j: i.k})\n | .................................^",
    },
    {
      original: { expr: "{}.transformMapEntry(i.j, k, {k: i.j})" },
      ast: "{}^#*expr.Expr_StructExpr#.transformMapEntry(\n  i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  {\n    k^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#.j^#*expr.Expr_SelectExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:21: undeclared reference to 'transformMapEntry' (in container '')\n | {}.transformMapEntry(i.j, k, {k: i.j})\n | ....................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'i' (in container '')\n | {}.transformMapEntry(i.j, k, {k: i.j})\n | .....................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'k' (in container '')\n | {}.transformMapEntry(i.j, k, {k: i.j})\n | ..........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'k' (in container '')\n | {}.transformMapEntry(i.j, k, {k: i.j})\n | ..............................^\nERROR: \u003cinput\u003e:1:34: undeclared reference to 'i' (in container '')\n | {}.transformMapEntry(i.j, k, {k: i.j})\n | .................................^",
    },
    {
      original: { expr: "{}.transformMapEntry(j, k, 'bad filter', {k: j})" },
      ast: '{}^#*expr.Expr_StructExpr#.transformMapEntry(\n  j^#*expr.Expr_IdentExpr#,\n  k^#*expr.Expr_IdentExpr#,\n  "bad filter"^#*expr.Constant_StringValue#,\n  {\n    k^#*expr.Expr_IdentExpr#:j^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:21: undeclared reference to 'transformMapEntry' (in container '')\n | {}.transformMapEntry(j, k, 'bad filter', {k: j})\n | ....................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'j' (in container '')\n | {}.transformMapEntry(j, k, 'bad filter', {k: j})\n | .....................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'k' (in container '')\n | {}.transformMapEntry(j, k, 'bad filter', {k: j})\n | ........................^\nERROR: \u003cinput\u003e:1:43: undeclared reference to 'k' (in container '')\n | {}.transformMapEntry(j, k, 'bad filter', {k: j})\n | ..........................................^\nERROR: \u003cinput\u003e:1:46: undeclared reference to 'j' (in container '')\n | {}.transformMapEntry(j, k, 'bad filter', {k: j})\n | .............................................^",
    },
    {
      original: { expr: "[1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)" },
      ast: "[\n  1^#*expr.Constant_Int64Value#,\n  2^#*expr.Constant_Int64Value#\n]^#*expr.Expr_ListExpr#.transformList(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _?_:_(\n    _==_(\n      _%_(\n        v^#*expr.Expr_IdentExpr#,\n        2^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    [\n      v^#*expr.Expr_IdentExpr#\n    ]^#*expr.Expr_ListExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:21: undeclared reference to 'transformList' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | ....................^\nERROR: \u003cinput\u003e:1:22: undeclared reference to 'i' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | .....................^\nERROR: \u003cinput\u003e:1:25: undeclared reference to 'v' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | ........................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | ...........................^\nERROR: \u003cinput\u003e:1:42: undeclared reference to 'v' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | .........................................^\nERROR: \u003cinput\u003e:1:47: undeclared reference to 'v' (in container '')\n | [1, 2].transformList(i, v, v % 2 == 0 ? [v] : v)\n | ..............................................^",
    },
    {
      original: {
        expr: "{'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, []) == {}",
      },
      ast: '_==_(\n  {\n    "hello"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n    "greetings"^#*expr.Constant_StringValue#:"tacocat"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#.transformMapEntry(\n    k^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    []^#*expr.Expr_ListExpr#\n  )^#*expr.Expr_CallExpr#,\n  {}^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:61: undeclared reference to 'transformMapEntry' (in container '')\n | {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, []) == {}\n | ............................................................^\nERROR: \u003cinput\u003e:1:62: undeclared reference to 'k' (in container '')\n | {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, []) == {}\n | .............................................................^\nERROR: \u003cinput\u003e:1:65: undeclared reference to 'v' (in container '')\n | {'hello': 'world', 'greetings': 'tacocat'}.transformMapEntry(k, v, []) == {}\n | ................................................................^",
    },
    {
      original: { expr: "[1, 1].transformMapEntry(i, v, {v: i})" },
      ast: "[\n  1^#*expr.Constant_Int64Value#,\n  1^#*expr.Constant_Int64Value#\n]^#*expr.Expr_ListExpr#.transformMapEntry(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  {\n    v^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:25: undeclared reference to 'transformMapEntry' (in container '')\n | [1, 1].transformMapEntry(i, v, {v: i})\n | ........................^\nERROR: \u003cinput\u003e:1:26: undeclared reference to 'i' (in container '')\n | [1, 1].transformMapEntry(i, v, {v: i})\n | .........................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'v' (in container '')\n | [1, 1].transformMapEntry(i, v, {v: i})\n | ............................^\nERROR: \u003cinput\u003e:1:33: undeclared reference to 'v' (in container '')\n | [1, 1].transformMapEntry(i, v, {v: i})\n | ................................^\nERROR: \u003cinput\u003e:1:36: undeclared reference to 'i' (in container '')\n | [1, 1].transformMapEntry(i, v, {v: i})\n | ...................................^",
    },
    {
      original: { expr: "[0, 0u].transformMapEntry(i, v, {v: i})" },
      ast: "[\n  0^#*expr.Constant_Int64Value#,\n  0u^#*expr.Constant_Uint64Value#\n]^#*expr.Expr_ListExpr#.transformMapEntry(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  {\n    v^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:26: undeclared reference to 'transformMapEntry' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .........................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'i' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | ..........................^\nERROR: \u003cinput\u003e:1:30: undeclared reference to 'v' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .............................^\nERROR: \u003cinput\u003e:1:34: undeclared reference to 'v' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .................................^\nERROR: \u003cinput\u003e:1:37: undeclared reference to 'i' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | ....................................^",
    },
    {
      original: { expr: "[0, 0u].transformMapEntry(i, v, {v: i})" },
      ast: "[\n  0^#*expr.Constant_Int64Value#,\n  0u^#*expr.Constant_Uint64Value#\n]^#*expr.Expr_ListExpr#.transformMapEntry(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  {\n    v^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:26: undeclared reference to 'transformMapEntry' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .........................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'i' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | ..........................^\nERROR: \u003cinput\u003e:1:30: undeclared reference to 'v' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .............................^\nERROR: \u003cinput\u003e:1:34: undeclared reference to 'v' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | .................................^\nERROR: \u003cinput\u003e:1:37: undeclared reference to 'i' (in container '')\n | [0, 0u].transformMapEntry(i, v, {v: i})\n | ....................................^",
    },
    {
      original: {
        expr: "{'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)",
      },
      ast: '{\n  "a"^#*expr.Constant_StringValue#:"world"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "b"^#*expr.Constant_StringValue#:"hello"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.transformMap(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _?_:_(\n    _==_(\n      i^#*expr.Expr_IdentExpr#,\n      "a"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#.upperAscii()^#*expr.Expr_CallExpr#,\n    v^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:42: undeclared reference to 'transformMap' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | .........................................^\nERROR: \u003cinput\u003e:1:43: undeclared reference to 'i' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | ..........................................^\nERROR: \u003cinput\u003e:1:46: undeclared reference to 'v' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | .............................................^\nERROR: \u003cinput\u003e:1:49: undeclared reference to 'i' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | ................................................^\nERROR: \u003cinput\u003e:1:60: undeclared reference to 'v' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | ...........................................................^\nERROR: \u003cinput\u003e:1:77: undeclared reference to 'v' (in container '')\n | {'a': 'world', 'b': 'hello'}.transformMap(i, v, i == 'a' ? v.upperAscii() : v)\n | ............................................................................^",
    },
    {
      original: { expr: "[1.0, 2.0, 2.0].transformList(i, v, i / 2.0 == 1.0)" },
      ast: "[\n  1^#*expr.Constant_DoubleValue#,\n  2^#*expr.Constant_DoubleValue#,\n  2^#*expr.Constant_DoubleValue#\n]^#*expr.Expr_ListExpr#.transformList(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _==_(\n    _/_(\n      i^#*expr.Expr_IdentExpr#,\n      2^#*expr.Constant_DoubleValue#\n    )^#*expr.Expr_CallExpr#,\n    1^#*expr.Constant_DoubleValue#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:30: undeclared reference to 'transformList' (in container '')\n | [1.0, 2.0, 2.0].transformList(i, v, i / 2.0 == 1.0)\n | .............................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'i' (in container '')\n | [1.0, 2.0, 2.0].transformList(i, v, i / 2.0 == 1.0)\n | ..............................^\nERROR: \u003cinput\u003e:1:34: undeclared reference to 'v' (in container '')\n | [1.0, 2.0, 2.0].transformList(i, v, i / 2.0 == 1.0)\n | .................................^\nERROR: \u003cinput\u003e:1:37: undeclared reference to 'i' (in container '')\n | [1.0, 2.0, 2.0].transformList(i, v, i / 2.0 == 1.0)\n | ....................................^",
    },
    {
      original: {
        expr: "{'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')",
      },
      ast: '{\n  "a"^#*expr.Constant_StringValue#:"b"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "c"^#*expr.Constant_StringValue#:"d"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.existsOne(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _||_(\n    _==_(\n      k^#*expr.Expr_IdentExpr#,\n      "b"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    _==_(\n      v^#*expr.Expr_IdentExpr#,\n      "b"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:31: undeclared reference to 'existsOne' (in container '')\n | {'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')\n | ..............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'k' (in container '')\n | {'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')\n | ...............................^\nERROR: \u003cinput\u003e:1:35: undeclared reference to 'v' (in container '')\n | {'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')\n | ..................................^\nERROR: \u003cinput\u003e:1:38: undeclared reference to 'k' (in container '')\n | {'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')\n | .....................................^\nERROR: \u003cinput\u003e:1:50: undeclared reference to 'v' (in container '')\n | {'a': 'b', 'c': 'd'}.existsOne(k, v, k == 'b' || v == 'b')\n | .................................................^",
    },
    {
      original: {
        expr: "{'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')",
      },
      ast: '{\n  "a"^#*expr.Constant_StringValue#:"b"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#,\n  "c"^#*expr.Constant_StringValue#:"d"^#*expr.Constant_StringValue#^#*expr.Expr_CreateStruct_Entry#\n}^#*expr.Expr_StructExpr#.exists(\n  k^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _||_(\n    _==_(\n      k^#*expr.Expr_IdentExpr#,\n      "b"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#,\n    _==_(\n      v^#*expr.Expr_IdentExpr#,\n      "b"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:28: undeclared reference to 'exists' (in container '')\n | {'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')\n | ...........................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to 'k' (in container '')\n | {'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')\n | ............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'v' (in container '')\n | {'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')\n | ...............................^\nERROR: \u003cinput\u003e:1:35: undeclared reference to 'k' (in container '')\n | {'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')\n | ..................................^\nERROR: \u003cinput\u003e:1:47: undeclared reference to 'v' (in container '')\n | {'a': 'b', 'c': 'd'}.exists(k, v, k == 'b' || v == 'b')\n | ..............................................^",
    },
    {
      original: {
        expr: "[null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)",
      },
      ast: '[\n  null^#*expr.Constant_NullValue#,\n  null^#*expr.Constant_NullValue#,\n  "hello"^#*expr.Constant_StringValue#,\n  string^#*expr.Expr_IdentExpr#\n]^#*expr.Expr_ListExpr#.all(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _||_(\n    _==_(\n      i^#*expr.Expr_IdentExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _!=_(\n      type(\n        v^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#,\n      int^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:34: undeclared reference to 'all' (in container '')\n | [null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)\n | .................................^\nERROR: \u003cinput\u003e:1:35: undeclared reference to 'i' (in container '')\n | [null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)\n | ..................................^\nERROR: \u003cinput\u003e:1:38: undeclared reference to 'v' (in container '')\n | [null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)\n | .....................................^\nERROR: \u003cinput\u003e:1:41: undeclared reference to 'i' (in container '')\n | [null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)\n | ........................................^\nERROR: \u003cinput\u003e:1:56: undeclared reference to 'v' (in container '')\n | [null, null, 'hello', string].all(i, v, i == 0 || type(v) != int)\n | .......................................................^",
    },
    {
      original: { expr: "x.transformMapEntry(i, v, {v: i}).size() \u003c y" },
      ast: "_\u003c_(\n  x^#*expr.Expr_IdentExpr#.transformMapEntry(\n    i^#*expr.Expr_IdentExpr#,\n    v^#*expr.Expr_IdentExpr#,\n    {\n      v^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n    }^#*expr.Expr_StructExpr#\n  )^#*expr.Expr_CallExpr#.size()^#*expr.Expr_CallExpr#,\n  y^#*expr.Expr_IdentExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'transformMapEntry' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ...................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'i' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'v' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | .......................^\nERROR: \u003cinput\u003e:1:28: undeclared reference to 'v' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ...........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'i' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ..............................^\nERROR: \u003cinput\u003e:1:44: undeclared reference to 'y' (in container '')\n | x.transformMapEntry(i, v, {v: i}).size() \u003c y\n | ...........................................^",
    },
    {
      original: { expr: "x.transformMapEntry(i, v, i \u003c y, {v: i})" },
      ast: "x^#*expr.Expr_IdentExpr#.transformMapEntry(\n  i^#*expr.Expr_IdentExpr#,\n  v^#*expr.Expr_IdentExpr#,\n  _\u003c_(\n    i^#*expr.Expr_IdentExpr#,\n    y^#*expr.Expr_IdentExpr#\n  )^#*expr.Expr_CallExpr#,\n  {\n    v^#*expr.Expr_IdentExpr#:i^#*expr.Expr_IdentExpr#^#*expr.Expr_CreateStruct_Entry#\n  }^#*expr.Expr_StructExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ^\nERROR: \u003cinput\u003e:1:20: undeclared reference to 'transformMapEntry' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ...................^\nERROR: \u003cinput\u003e:1:21: undeclared reference to 'i' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ....................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'v' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | .......................^\nERROR: \u003cinput\u003e:1:27: undeclared reference to 'i' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ..........................^\nERROR: \u003cinput\u003e:1:31: undeclared reference to 'y' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ..............................^\nERROR: \u003cinput\u003e:1:35: undeclared reference to 'v' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | ..................................^\nERROR: \u003cinput\u003e:1:38: undeclared reference to 'i' (in container '')\n | x.transformMapEntry(i, v, i \u003c y, {v: i})\n | .....................................^",
    },
    {
      original: { expr: "x.exists(val, y.exists(key, _, key == val))" },
      ast: "__comprehension__(\n  // Variable\n  val,\n  // Target\n  x^#*expr.Expr_IdentExpr#,\n  // Accumulator\n  @result,\n  // Init\n  false^#*expr.Constant_BoolValue#,\n  // LoopCondition\n  @not_strictly_false(\n    !_(\n      @result^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  // LoopStep\n  _||_(\n    @result^#*expr.Expr_IdentExpr#,\n    y^#*expr.Expr_IdentExpr#.exists(\n      key^#*expr.Expr_IdentExpr#,\n      _^#*expr.Expr_IdentExpr#,\n      _==_(\n        key^#*expr.Expr_IdentExpr#,\n        val^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  // Result\n  @result^#*expr.Expr_IdentExpr#)^#*expr.Expr_ComprehensionExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'y' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ..............^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'exists' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ......................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | .......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to '_' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ...............................^",
    },
    {
      original: { expr: "x.exists(val, y.exists(key, _, key == val))" },
      ast: "__comprehension__(\n  // Variable\n  val,\n  // Target\n  x^#*expr.Expr_IdentExpr#,\n  // Accumulator\n  @result,\n  // Init\n  false^#*expr.Constant_BoolValue#,\n  // LoopCondition\n  @not_strictly_false(\n    !_(\n      @result^#*expr.Expr_IdentExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  // LoopStep\n  _||_(\n    @result^#*expr.Expr_IdentExpr#,\n    y^#*expr.Expr_IdentExpr#.exists(\n      key^#*expr.Expr_IdentExpr#,\n      _^#*expr.Expr_IdentExpr#,\n      _==_(\n        key^#*expr.Expr_IdentExpr#,\n        val^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  // Result\n  @result^#*expr.Expr_IdentExpr#)^#*expr.Expr_ComprehensionExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'y' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ..............^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'exists' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ......................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | .......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to '_' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val))\n | ...............................^",
    },
    {
      original: {
        expr: "x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))",
      },
      ast: '_\u0026\u0026_(\n  __comprehension__(\n    // Variable\n    val,\n    // Target\n    x^#*expr.Expr_IdentExpr#,\n    // Accumulator\n    @result,\n    // Init\n    false^#*expr.Constant_BoolValue#,\n    // LoopCondition\n    @not_strictly_false(\n      !_(\n        @result^#*expr.Expr_IdentExpr#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#,\n    // LoopStep\n    _||_(\n      @result^#*expr.Expr_IdentExpr#,\n      y^#*expr.Expr_IdentExpr#.exists(\n        key^#*expr.Expr_IdentExpr#,\n        _^#*expr.Expr_IdentExpr#,\n        _==_(\n          key^#*expr.Expr_IdentExpr#,\n          val^#*expr.Expr_IdentExpr#\n        )^#*expr.Expr_CallExpr#\n      )^#*expr.Expr_CallExpr#\n    )^#*expr.Expr_CallExpr#,\n    // Result\n    @result^#*expr.Expr_IdentExpr#)^#*expr.Expr_ComprehensionExpr#,\n  y^#*expr.Expr_IdentExpr#.all(\n    key^#*expr.Expr_IdentExpr#,\n    val^#*expr.Expr_IdentExpr#,\n    val^#*expr.Expr_IdentExpr#.startsWith(\n      "h"^#*expr.Constant_StringValue#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#',
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'y' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ..............^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'exists' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ......................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | .......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to '_' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ...............................^\nERROR: \u003cinput\u003e:1:48: undeclared reference to 'y' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ...............................................^\nERROR: \u003cinput\u003e:1:53: undeclared reference to 'all' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ....................................................^\nERROR: \u003cinput\u003e:1:54: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | .....................................................^\nERROR: \u003cinput\u003e:1:59: undeclared reference to 'val' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ..........................................................^\nERROR: \u003cinput\u003e:1:64: undeclared reference to 'val' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) \u0026\u0026 y.all(key, val, val.startsWith('h'))\n | ...............................................................^",
    },
    {
      original: {
        expr: "x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2",
      },
      ast: "_||_(\n  _||_(\n    __comprehension__(\n      // Variable\n      val,\n      // Target\n      x^#*expr.Expr_IdentExpr#,\n      // Accumulator\n      @result,\n      // Init\n      false^#*expr.Constant_BoolValue#,\n      // LoopCondition\n      @not_strictly_false(\n        !_(\n          @result^#*expr.Expr_IdentExpr#\n        )^#*expr.Expr_CallExpr#\n      )^#*expr.Expr_CallExpr#,\n      // LoopStep\n      _||_(\n        @result^#*expr.Expr_IdentExpr#,\n        y^#*expr.Expr_IdentExpr#.exists(\n          key^#*expr.Expr_IdentExpr#,\n          _^#*expr.Expr_IdentExpr#,\n          _==_(\n            key^#*expr.Expr_IdentExpr#,\n            val^#*expr.Expr_IdentExpr#\n          )^#*expr.Expr_CallExpr#\n        )^#*expr.Expr_CallExpr#\n      )^#*expr.Expr_CallExpr#,\n      // Result\n      @result^#*expr.Expr_IdentExpr#)^#*expr.Expr_ComprehensionExpr#,\n    _==_(\n      _[_](\n        x^#*expr.Expr_IdentExpr#,\n        0^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      0^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#,\n  _||_(\n    _==_(\n      _[_](\n        x^#*expr.Expr_IdentExpr#,\n        1^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#,\n    _==_(\n      _[_](\n        x^#*expr.Expr_IdentExpr#,\n        2^#*expr.Constant_Int64Value#\n      )^#*expr.Expr_CallExpr#,\n      2^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:1: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ^\nERROR: \u003cinput\u003e:1:15: undeclared reference to 'y' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ..............^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'exists' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ......................^\nERROR: \u003cinput\u003e:1:24: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | .......................^\nERROR: \u003cinput\u003e:1:29: undeclared reference to '_' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ............................^\nERROR: \u003cinput\u003e:1:32: undeclared reference to 'key' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ...............................^\nERROR: \u003cinput\u003e:1:48: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ...............................................^\nERROR: \u003cinput\u003e:1:61: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | ............................................................^\nERROR: \u003cinput\u003e:1:74: undeclared reference to 'x' (in container '')\n | x.exists(val, y.exists(key, _, key == val)) || x[0] == 0 || x[1] == 1 || x[2] == 2\n | .........................................................................^",
    },
    {
      original: {
        expr: "x.exists(val, y.exists(key, _, key == val)) || (x[?0].hasValue() \u0026\u0026 x[?1].hasValue())",
      },
      error:
        "ERROR: :1:50: unsupported syntax '[?'\n | x.exists(val, y.exists(key, _, key == val)) || (x[?0].hasValue() \u0026\u0026 x[?1].hasValue())\n | .................................................^\nERROR: :1:70: unsupported syntax '[?'\n | x.exists(val, y.exists(key, _, key == val)) || (x[?0].hasValue() \u0026\u0026 x[?1].hasValue())\n | .....................................................................^",
    },
    {
      original: { expr: "x.exists(key, val, y[?key] == optional.of(val))" },
      error:
        "ERROR: :1:21: unsupported syntax '[?'\n | x.exists(key, val, y[?key] == optional.of(val))\n | ....................^",
    },
    {
      original: { expr: "y.exists(key, y[?key] == x[?key])" },
      error:
        "ERROR: :1:16: unsupported syntax '[?'\n | y.exists(key, y[?key] == x[?key])\n | ...............^\nERROR: :1:27: unsupported syntax '[?'\n | y.exists(key, y[?key] == x[?key])\n | ..........................^",
    },
    {
      original: { expr: "cel.bind(z, y[0], z + y[1])" },
      ast: "cel^#*expr.Expr_IdentExpr#.bind(\n  z^#*expr.Expr_IdentExpr#,\n  _[_](\n    y^#*expr.Expr_IdentExpr#,\n    0^#*expr.Constant_Int64Value#\n  )^#*expr.Expr_CallExpr#,\n  _+_(\n    z^#*expr.Expr_IdentExpr#,\n    _[_](\n      y^#*expr.Expr_IdentExpr#,\n      1^#*expr.Constant_Int64Value#\n    )^#*expr.Expr_CallExpr#\n  )^#*expr.Expr_CallExpr#\n)^#*expr.Expr_CallExpr#",
      error:
        "ERROR: \u003cinput\u003e:1:13: undeclared reference to 'y' (in container '')\n | cel.bind(z, y[0], z + y[1])\n | ............^\nERROR: \u003cinput\u003e:1:23: undeclared reference to 'y' (in container '')\n | cel.bind(z, y[0], z + y[1])\n | ......................^",
    },
    {
      original: {
        expr: "cel.bind(z, y[0], x.all(i, val, val == z || optional.of(val) == y[?i]))",
      },
      error:
        "ERROR: :1:66: unsupported syntax '[?'\n | cel.bind(z, y[0], x.all(i, val, val == z || optional.of(val) == y[?i]))\n | .................................................................^",
    },
  ],
} as const;
